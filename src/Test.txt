function validateTabs() {
    var hasError = false;
    var errorMessages = [];

    $('.tab101 tr').each(function(index1) {
        var $row1 = $(this);
        var facId = $row1.find('.facId').val()?.trim();
        var status = $row1.find('.status:checked').val();
        var amt = parseFloat($row1.find('.amt').val() || '0');

        if (status === 'S' && amt === 0) {
            var tabsToCheck = ['.tab102', '.tab103', '.tab104', '.tab105'];
            var allTabsValid = true;

            for (let i = 0; i < tabsToCheck.length; i++) {
                let foundMatch = false;

                $(tabsToCheck[i]).find('tr').each(function() {
                    var $rowX = $(this);
                    var facIdX = $rowX.find('.facId').val()?.trim();
                    var statusX = $rowX.find('.status:checked').val();

                    if (facId === facIdX && statusX === 'S') {
                        foundMatch = true;
                        return false; // break inner loop
                    }
                });

                if (!foundMatch) {
                    allTabsValid = false;
                    errorMessages.push(`❌ Error: FacId '${facId}' in tab101 (Row ${index1 + 1}) is not present with status 'S' in ${tabsToCheck[i].replace('.', '')}.`);
                }
            }

            if (!allTabsValid) {
                hasError = true;
            }
        }
    });

    if (hasError) {
        alert(errorMessages.join('\n'));
    } else {
        alert("✅ All validations passed.");
    }
}
